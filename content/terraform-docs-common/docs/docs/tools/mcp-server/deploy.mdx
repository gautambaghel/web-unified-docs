---
page_title: Deploy the Terraform model context protocol (MCP) server 
description: |-
 Learn how to deploy the Terraform MCP server, which helps you write configuration using LLM responses sourced from the Terraform registry.
---

# Deploy the Terraform MCP server
This page provides detailed instructions for deploying the Terraform Model Context Protocol (MCP) server, including installation methods, configuration options, and client integration details.

@include 'beta.mdx'

## Overview

The Terraform MCP (Model Context Protocol) server runs in a Docker container that you can deploy to either your local workstation or in a remote instance.
When running the server locally, it's recommended to run it in the default `stdio` mode. In this mode, the server communicates over standard input/output.
When running the server on a remote instance, start the server in `streamable-http` mode so that you can communicate with the server using the Streamable HTTP transport.

## Install the server

There are three options to install the Terraform MCP Server:

1. Install using [Docker](#docker)

1. Install using a [compiled binary](#compiled-binary)

1. Install directly from the [source](#install-from-source)

### Docker

One of the following Docker distributions is required:

- Docker Engine v20.10.21+
- Docker Desktop v4.14.0+

To run the server in a container, you will need to have [Docker](https://docs.docker.com/desktop) installed.
Once Docker is installed, you will need to ensure Docker is running.

<Tabs>

<Tab heading="Visual Studio Code">

Refer to the [Visual Studio Code documentation](https://code.visualstudio.com/docs) for installation instructions.
Ensure [GitHub CoPilot extension](https://code.visualstudio.com/docs/copilot/overview) is installed and chat is configured to `Agent` mode.
Refer to Visual Studio Code's [MCP documentation](https://code.visualstudio.com/docs/copilot/chat/mcp-servers) for instructions on enabling MCP.

This installation also works for Cursor. Refer to the [Cursor website](https://www.cursor.com) for more information.
Refer to Cursor's [MCP documentation](https://docs.cursor.com/context/model-context-protocol#configuring-mcp-servers)

To install the server so that it's available for all workspaces, add the following JSON block to your user setting JSON file:

```json
{
  "mcp": {
    "servers": {
      "terraform": {
        "command": "docker",
        "args": [
          "run",
          "-i",
          "--rm",
          "hashicorp/terraform-mcp-server"
        ]
      }
    }
  }
}
```

Alternatively, you can install the server in specific workspaces. Create an `mcp.json` file in the `.vscode` directory of your workspace and add the following JSON block:

```json
{
  "servers": {
    "terraform": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server"
      ]
    }
  }
}
```

Complete the following steps to start working with MCP Servers:

1. Open the chat interface and choose **Agent** from the mode settings. 
1. Click the tools icon to verify that the Terraform MCP server tools are enabled.

</Tab>


<Tab heading="Cursor">

Refer to the [Cursor website](https://www.cursor.com) for installation instructions.
Refer to Cursor's [MCP documentation](https://docs.cursor.com/context/model-context-protocol#configuring-mcp-servers)

To install the server so that it's available for all workspaces, add the following JSON block to your user setting JSON file:

```json
{
  "mcp": {
    "servers": {
      "terraform": {
        "command": "docker",
        "args": [
          "run",
          "-i",
          "--rm",
          "hashicorp/terraform-mcp-server"
        ]
      }
    }
  }
}
```

Alternatively, you can install the server in specific workspaces. Create an `mcp.json` file in the `.vscode` directory of your workspace and add the following JSON block:

```json
{
  "servers": {
    "terraform": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server"
      ]
    }
  }
}
```

Complete the following steps to start working with MCP Servers:

1. Open the chat pane and choose **Chat Settings** from the ellipses menu. 
1. Choose **Agent from the **Default new chat mode** drop-down menu.
1. Choose **MCP** from the **Cursor Settings** sidebar to verify that the Terraform MCP server tools are enabled.

</Tab>

<Tab heading="Claude Desktop">

Refer to the [Anthropic Claude Desktop documentation](https://support.anthropic.com/en/articles/10065433-installing-claude-for-desktop) for installation instructions.
Refer to Anthropic Claude Desktop's [MCP documentation](https://modelcontextprotocol.io/quickstart/user)

Create an `mcp.json` file and add the following configuration:
 
```json
{
"mcpServers": {
  "servers": {
   "hcp-terraform": {
     "command": "docker",
     "args": [
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server:<version>"
       ]
     }
   }
 }
}

```

Complete the following steps if you are using Claude Desktop:

1. Open the chat pane and choose the **search and tools** slider icon to the bottom left of the chat pane.
1. Click **terraform-mcp-server** to verify that all the tools are enabled.

</Tab>

<Tab heading="Amazon Q">

Refer to the [Amazon Q documentation](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/command-line-installing.html) for installation instructions.
Refer to Amazon Q's [MCP documentation](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/qdev-mcp.html)

Create an `mcp.json` file and add the following configuration:
 
```json
{
"mcpServers": {
  "servers": {
   "hcp-terraform": {
     "command": "docker",
     "args": [
        "run",
        "-i",
        "--rm",
        "hashicorp/terraform-mcp-server:<version>"
       ]
     }
   }
 }
}

```

</Tab>

</Tabs>

### Compiled binary

The Terraform MCP (Model Context Protocol) is also available as precompiled binaries for different operating systems, it can be found in the [release library](https://releases.hashicorp.com/terraform-mcp-server).

You can download the approritate version of the server based on your operating system architecture. Once downloaded it can be configured as follows:

```json
{
  "mcp": {
    "servers": {
      "terraform": {
        "command": "/path/to/terraform-mcp-server",
        "args": ["stdio"]
      }
    }
  }
}
```

### Install from source

You can pull the source from either the `latest` release version or pull from the `main` branch to install from source.

Latest:

```shell-session
$ go install github.com/hashicorp/terraform-mcp-server/cmd/terraform-mcp-server@latest
```

Main:

```shell-session
$ go install github.com/hashicorp/terraform-mcp-server/cmd/terraform-mcp-server@main
```

After pulling the image, add the following JSON block to your client and specify the path to the server binary in the `command` attribute:


```json
{
  "mcp": {
    "servers": {
      "terraform": {
        "command": "/path/to/terraform-mcp-server",
        "args": ["stdio"]
      }
    }
  }
}
```

## Configuration

### Transport support

The Terraform MCP Server supports multiple transport protocols:

- **Stdio Transport** (_Default_): Standard input/output communication using JSON-RPC messages. Ideal for local development and direct integration with MCP clients.

- ** StreamableHTTP Transport**: Modern HTTP-based transport supporting both direct HTTP requests and Server-Sent Events (SSE) streams. This is the recommended transport for remote/distributed setups.

**Features:**

- **Endpoint**: `http://{hostname}:8080/mcp`
- **Health Check**: `http://{hostname}:8080/health`
- **Environment Configuration**: Set `TRANSPORT_MODE=http` or `TRANSPORT_PORT=8080` to enable

**Environment Variables:**

| Variable | Description | Default |
|----------|-------------|---------|
| `TRANSPORT_MODE` | Set to `streamable-http` to enable HTTP transport (legacy `http` value still supported) | `stdio` |
| `TRANSPORT_HOST` | Host to bind the HTTP server | `127.0.0.1` |
| `TRANSPORT_PORT` | HTTP server port | `8080` |
| `MCP_ENDPOINT` | HTTP server endpoint path | `/mcp` |
| `MCP_SESSION_MODE` | Session mode: `stateful` or `stateless` | `stateful` |
| `MCP_ALLOWED_ORIGINS` | Comma-separated list of allowed origins for CORS | `""` (empty) |
| `MCP_CORS_MODE` | CORS mode: `strict`, `development`, or `disabled` | `strict` |

### Command Line options

```bash
# Stdio mode
terraform-mcp-server stdio [--log-file /path/to/log]

# StreamableHTTP mode
terraform-mcp-server streamable-http [--transport-port 8080] [--transport-host 127.0.0.1] [--mcp-endpoint /mcp] [--log-file /path/to/log]
```

### Session modes

The Terraform MCP Server supports two session modes when using the StreamableHTTP transport:

- **Stateful Mode (Default)**: Maintains session state between requests, enabling context-aware operations.
- **Stateless Mode**: Each request is processed independently without maintaining session state, which can be useful for high-availability deployments or when using load balancers.

To enable stateless mode, set the environment variable:
```bash
export MCP_SESSION_MODE=stateless
```

## Next steps

After downloading the Terraform MCP server and connecting it to your client, you can begin prompting your model about your Terraform configuration code.
Refer to [Prompt an AI model](/terraform/docs/tools/mcp-server/prompt) for more information.